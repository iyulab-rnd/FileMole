## FileMole 파일 추적 시스템

**FileMole**은 지정된 디렉토리 내에서 파일을 추적하는 시스템입니다. 파일 추적의 기준 디렉토리는 `.hill` 폴더가 존재하는 위치이며, 이 디렉토리를 기준으로 파일 추적이 시작됩니다.

### 예시 디렉토리 구조
```
D:\test\.hill
D:\test\data_1.txt
D:\test\data_2.docx
D:\test\sub_dir\sub_1.txt
D:\test\sub_dir\sub_2.txt
```

### `.filemoleignore` 파일
파일 추적 시스템은 `.filemoleignore` 파일을 사용하여 추적할 파일과 무시할 파일을 관리합니다. 이 파일은 `.hill` 폴더 안에 위치하며, 파일 및 디렉토리를 무시하거나 다시 포함시킬 규칙을 정의할 수 있습니다.

#### 규칙 작성 방법
1. **기본적으로 모든 파일을 무시하고, 특정 파일만 포함**
   - `*`로 모든 파일을 무시할 수 있습니다.
   - `!`로 특정 파일 또는 디렉토리를 포함할 수 있습니다.

2. **포함 규칙 (`!`)**: 무시된 파일 중 다시 추적할 파일이나 디렉토리를 명시적으로 포함시킬 수 있습니다.

#### 규칙 예시

##### 1. 모든 파일 무시하고 `.txt` 파일만 추적하는 경우
```txt
# 모든 파일 무시
*

# .txt 파일만 추적
!*.txt
```

##### 2. 특정 디렉토리를 무시하고 그 안의 파일만 추적하는 경우
```txt
# 모든 파일 무시
*

# 특정 디렉토리 내 파일만 추적
!sub_dir/

# sub_dir 내에서 특정 파일만 추적
!sub_dir/special_file.txt
```

##### 3. 특정 파일 무시 규칙
```txt
# .log 파일과 임시 파일 무시
*.log
*.tmp

# 특정 디렉토리 무시
node_modules/
dist/
```

### 규칙 적용 순서
- 패턴 규칙은 파일 경로와 일치할 때 적용됩니다.
- `*`는 모든 파일을 무시하는 규칙이며, 그 이후에 `!`로 포함할 파일을 지정할 수 있습니다.
- 포함 규칙(`!`)은 무시 규칙보다 우선 적용됩니다.

### 하위 디렉토리에서의 `.filemoleignore` 파일 오버라이드
최상위 `.hill/.filemoleignore` 파일은 해당 디렉토리와 하위 디렉토리에 대해 적용됩니다. 하지만 하위 디렉토리에 `.filemoleignore` 파일이 존재하는 경우(해당 디렉토리 안에 `.hill` 폴더가 배치되지 않아도 됨), 해당 하위 디렉토리 내의 규칙이 상위 디렉토리의 규칙을 덮어쓰며 우선 적용됩니다.

### 하위 디렉토리의 `.hill` 폴더
만약 하위 디렉토리에 `.hill` 폴더가 다시 존재하는 경우, 그 디렉토리는 **별도의 추적 기준 폴더**로 취급됩니다. 즉, 상위 디렉토리의 `.hill` 폴더와는 별도로 동작하며, 독립적인 파일 추적이 이루어집니다. 이는 상위 디렉토리에서 정의된 규칙과 상관없이 해당 하위 디렉토리에서 독립적인 추적 규칙을 적용하는 방식을 따릅니다.

#### 예시
```
D:\test\.hill
D:\test\data_1.txt
D:\test\sub_dir\.hill
D:\test\sub_dir\sub_1.txt
```

위와 같은 경우:
- `D:\test\.hill`은 상위 디렉토리에서 파일 추적을 시작하는 기준 디렉토리입니다.
- 하지만 `D:\test\sub_dir\.hill`이 있는 경우, `D:\test\sub_dir` 디렉토리는 별도의 독립적인 추적 기준 디렉토리로 처리됩니다.
- 즉, `D:\test\sub_dir` 내에서는 상위 디렉토리의 `.hill` 규칙과 무관하게 독립적인 추적이 이루어집니다.

### 백업 시스템
```
.hill                  # 추적 디렉토리의 기준
.hill/.filemoleignore  # 추적 무시(포함) 파일 설정 파일
.hill/backups          # 추적 대상의 백업 폴더
.hill/backups/{relativePathHash.bak} # 추적 대상의 백업 파일
``` 

**FileMole**은 백업 시스템을 통해 추적된 파일의 변경 사항을 관리하며, 백업 파일은 파일 경로의 해시 값을 기준으로 관리됩니다.